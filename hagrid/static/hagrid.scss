// theme colors
$primary: #FF5053;
$highlight: #F3F2FF;
$accent1: #B2AAFF;
$accent2: #6A5FDB;
$accent3: #261A66;
$accent4: #29114C;
$accent5: #190B2F;
$background: #0F000A;

$green: #5FDD6E;
$yellow: #FFEB50;
$red: $primary;

$gridSize: 64px;
$gridBorderWidth: 2px;
$gridBorderColor: $accent4;
$gridBorder: $gridBorderWidth solid $gridBorderColor;

// $textColor: $highlight;

@font-face {
    font-family: 'pilowlava';
    src: URL(static('/fonts/pilowlava/Fonts/webfonts/Pilowlava-Regular.woff2')) format('woff2');
}

@font-face {
    font-family: 'spacegrotesk';
    src: URL(static('/fonts/space-grotesk-1.1.4/webfont/SpaceGrotesk-Regular.woff2')) format('woff2');
}
@font-face {
    font-family: 'spacegrotesk';
    font-weight: 500;
    src: URL(static('/fonts/space-grotesk-1.1.4/webfont/SpaceGrotesk-SemiBold.woff2')) format('woff2');
}
@font-face {
    font-family: 'spacegrotesk';
    font-weight: bold;
    src: URL(static('/fonts/space-grotesk-1.1.4/webfont/SpaceGrotesk-Bold.woff2')) format('woff2');
}

@font-face {
    font-family: 'space-mono';
    src: URL(static('/fonts/space-mono/SpaceMono-Regular.ttf')) format('truetype');
}
@font-face {
    font-family: 'space-mono';
    font-weight: bold;
    src: URL(static('/fonts/space-mono/SpaceMono-Bold.ttf')) format('truetype');
}


@font-face {
    font-family: 'uncut-sans';
    src: URL(static('/fonts/uncut-sans/Webfonts/UncutSans-Regular.woff2')) format('woff2');
}
@font-face {
    font-family: 'uncut-sans';
    font-weight: bold;
    src: URL(static('/fonts/uncut-sans/Webfonts/UncutSans-Bold.woff2')) format('woff2');
}
@font-face {
    font-family: 'uncut-sans';
    font-weight: 500;
    src: URL(static('/fonts/uncut-sans/Webfonts/UncutSans-Semibold.woff2')) format('woff2');
}

$fontTitle: "Pilowlava", sans-serif;
$fontH1: "Space Grotesk", "spacegrotesk", sans-serif;
$fontH2: "Uncut Sans", "uncut-sans", $fontH1;
$fontMono: "Space Mono", "space-mono", monospace;

body {
  background: $background;
  color: $accent1;
}
a {
  color: $highlight;
  &:hover {
    color: $accent2;
  }
}

h1.title {
  font-family: $fontTitle;
  color: $primary;
  margin-block-start: 1em;
  font-size: 4rem;
  text-align: center;
}

h1 {
  font-family: $fontH1;
  color: $primary;
}
.center {
  text-align: center;
}

h2 {
  font-family: $fontH1;
  color: $highlight;
  margin-block-start: 1em;
}

h3 {
  font-weight: 500;
  font-family: $fontH2;
  margin-block-start: 1em;
}

h4 {
  font-weight: 500;
  font-family: $fontH2;
  margin-block-start: 1em;
}

// The grid-sizer makes sure its content has an exact multiple of gridSize in width
.grid-sizer {
  display: grid;
  grid-template-columns: [start] repeat(auto-fit, $gridSize) [end];
}
.grid-sizer > * {
  grid-column: start / end;
}

.grid-background {
  padding-left: $gridSize;
  padding-top: $gridSize;
  padding-right: $gridSize + $gridBorderWidth;
  padding-bottom: $gridSize + $gridBorderWidth;
  margin-right: -$gridBorderWidth;

  // now for something ugly, let's build an inline SVG as a data-url so we can
  $s: str-slice(#{$gridSize}, 0, -3);
  $o: str-slice(#{$gridBorderWidth/2}, 0, -3);
  $o2: str-slice(#{$gridBorderWidth}, 0, -3);
  background-image: url(
    "data:image/svg+xml;utf8,"
    + "<svg xmlns='http://www.w3.org/2000/svg' width='#{$s}' height='#{$s}' viewBox='0 0 #{$s} #{$s}'>"
    + "<path fill='none' stroke-width='#{$o2}' stroke='%23#{str-slice(#{$gridBorderColor},2)}' "
    + "d='M #{$s} #{$o} L#{$o} #{$o} L#{$o} #{$s}'/></svg>"
  );
}

.grid-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, $gridSize - $gridBorderWidth);
  // grid-auto-rows: $gridSize - $gridBorderWidth;
  gap: $gridBorderWidth;
  padding-left: $gridBorderWidth;
  padding-top: $gridBorderWidth;

  // * {outline: 1px solid $accent2;}
}

.grid-box {
  background: $background;
}

.product-availability-tags {
  list-style: none;
  display: grid;
  grid-template-columns: repeat(auto-fit, $gridSize - $gridBorderWidth);
  grid-template-rows: repeat(auto-fit, $gridSize - $gridBorderWidth);
  gap: $gridBorderWidth;
  grid-column: 4 / -1;
  margin: 0;
  padding: 0;

  > li {
    background: $background;
    vertical-align: top;
    height: $gridSize - $gridBorderWidth;
    width: $gridSize - $gridBorderWidth;
    margin: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }
}
.product-availability-tag {
  // background: $primary;
  display: inline-flex;
  width: 3rem;
  overflow: hidden;
  white-space: nowrap;
  text-align: center;
  font-family: $fontMono;
  font-size: 1.2rem;
  align-items: center;
  justify-content: center;
  height: 2rem;
  color: $background;
  border: 1px solid currentcolor;
  font-weight: normal;

  &.small {
    font-size: 0.9rem;
  }

  // color variations:
  &.red  {
    color: $red;
  }
  &.green {
    // color: $green;
    background: $green;
    border-color: $green;
    color: $background;
  }
  &.yellow  {
    color: $yellow;
  }
  &.gray  {
    color: $accent4;
  }
}

.product {
  grid-template-rows: ($gridSize*2) - $gridBorderWidth auto;
  gap: $gridBorderWidth;
  margin-bottom: $gridSize;
  min-height: $gridSize * 3;

  > h2 {
    background: $background;
    grid-column: 1 / -6;
    margin: 0;

    padding-inline: 1rem;
    display: flex;
    align-items: center;
    color: $primary;
  }

  .product-image {
    background: $background;
    grid-column: -6 / -1;
    grid-row: 1 / -1;

    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }


  .product-availabilities {
    margin: 0;
    padding: 0;
    display: grid;
    grid-column: 1 / -6;
    grid-template-columns: [start] repeat(auto-fit, $gridSize - $gridBorderWidth) [end];
    grid-gap: $gridBorderWidth;

    // for sizegroup: fitted/straight or color
    > h3 {
      background: $background;
      grid-column: span 3;

      display: inline-flex;
      align-items: center;
      padding-inline: 1rem;
      font-size: 1.2rem;
      vertical-align: top;
      color: $highlight;
      margin: 0;
    }
  }
}

.product-table {
  background: $accent5;
  border: $gridBorder;
  margin-block: 1rem;

  th, td {
    vertical-align: top;
    border: $gridBorder;
    padding: 0.5em;
    min-width: max-content;
  }

  small {
    font-weight: normal;
    color: $accent2;
  }

  th:first-child {
    color: $highlight;
    font-weight: bold;
    font-family: $fontH2;
    font-size: 1.2rem;
  }

  td {
    background: $background;

    input[type="number"] {
      background: transparent;
      border: 1px solid $accent2;
      color: $highlight;
      width: 4em;
      display: inline-block;
    }
  }
}

dl.legend {
  font-family: $fontMono;
  color: $highlight;
  padding: 1rem;
  margin-block: 1rem;
  text-align: center;

  dt, dd {
    display: inline-block;
  }
  dd {
    padding-inline: 1rem 2rem;

    &:last-child {
      padding-inline-end: 0;
    }
  }
}
